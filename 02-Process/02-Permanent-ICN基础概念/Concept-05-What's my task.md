---
tags:
  - NDN
created: 2025-11-18
aliases:
  - 解题
---
我要做的是解决生产者该如何连入网络的第一步的这个问题。这个问题一直是一个空白。以前也有bootstrapping的相关的研究，但是在具体的研究实现方案上，他们更多的会强调说是一种密码学的安全配置的过程。在这其中，除了安全配置之外，还有一个问题就是：这个interest如果要被精确转发，是需要fib表当中这个条目的，这个条目是从何而来呢？我们会说使用路由协议，直接归纳为一个路由问题了。对于路由问题的解决，有很多种，比如说sync协议、自学习。所有这些方法都有一个前提，就是这个实体它已经完成了安全引导。我要解决的问题就是：这个实体它如果想进行种远程的安全引导的话，他需要一种带内方法来完成这个引导。
以上是一个直白的对这个问题的描述。但是我们要对这个问题产生的来源去做一个溯源。它对标TCP/IP网络相对应位置的协议是dhcp。DHCP完成了对主机的一个动态的自动化的一个配置。类比的去命题的话我们要解决的问题其实是如何配置NDN主机？我们要理解NDN主机与IP主机是不一样的，IP主机的核心是IP地址，但是在NDN当中没有IP地址了，所以我们该配置的是什么呢？《NDN host model》这篇文章介绍了一个NDN主机模型是什么样的，以及对应的配置是什么。它分为安全配置与网络连接配置。
回扣到就是已有的工作上来，就是还是那句话：现有的工作要么就是安全连接的配置，要么就是路由的配置。在最开始我该如何去这个获取你的安全信息呢？他们无一例外采用的方法给出的方法都是OOB，一种带外方法，比如说验证码、手机号。
现在，我能否给出一种NDN的通信方法来解决这个问题。从另一种角度而言，生产者如何在网内无路由的情况下，到达该生产者的Interest被正确引导，使该生产者能推送最初的安全配置信息。
### 具体方法
我的方法呢其实可以被看作是两种已有机制的结合。
第一个机制是forwarding hint，也就是转发提示。他是interest包中的一个字段，当interest包的这个name名字的路由在fib表当中找不到的时候他会转而去用这个hint值去查这个路由表。
第二个机制叫做反射interest reflective interest。他是在NDN推送研究方法当中被提出来的一个机制。就是说如果想推送一些信息该如何去主动的去路由？他提到在NDN当中记录路由信息的组件不仅仅有FIB, PIT表它也是记录了路由信息的。然后这个反射interest，他去pit表当中去查匹配的名称，然后把PIT表当中匹配名称的记录的入口，作为他这个interest的转发出口转发出去。就这样子逐跳的、溯源的、反向的、去查IP的表然后去转发。

那么我的基本方案是这样，以流程的形式来说明。
三个实体：
新接入生产者P，将要生产前缀为`/NewPA`的数据。
注册服务Registry，通过`/Registry可以将Interest转发到最近的注册节点。
中继节点Relay，拥有到注册节点Registry的路由，位于自治域网络边缘，但是没有到新接入生产者P的路由。

第一步：
新接入生产者发送一条探测、接入的兴趣包 `ProbeInterest`，`/Registry/Signin/of/NewPA`，以注册服务前缀{/Registry/Signin}+自己生产的前缀{/NewPA}的形式组合。这个兴趣包会被广播发送，然后被边缘中继节点Relay接收到。Relay节点接收到后，会根据Registry的路由，在自治域内精确转发，直到Registry处。
第二步：
注册中心收到后，不会立即回复`ProbeInterest`。而是发送一条 `FetchInterest`，来获取新节点P的相关安全配置信息。这条 `FetchInterest`的名称为`/NewPA/SecurityInfo`，Forwarding Hint字段为`/Registry/Signin/of/NewPA`，同时加上一个特殊标记`RouteInPIT` tag，来指示使用本方案的转发方法。这样，仍然遵循NDN中数据名称表示数据含义的规定，也充分利用了Hint路由的机制。
第三步：
转发`FetchInterest`。由于网络中不存在`/NewPA`的路由信息，所以是无法在FIB中匹配到的。同时，路径上的节点检测到`RouteInPIT` tag，于是会尝试用Hint的名称，去PIT表中查找。这是可以在PIT中查到的`/Registry/Signin/of/NewPA`，用这条ProbeInterest记录的入口，作为FetchInterest的出口，逐跳查询、转发回去，直到到达新生产者P处。
第四步：
新生产者P收到FetchInterest，将自己的安全配置相关数据回复给注册中心Registry。
第五步：
当注册中心判断对于新生产者P的安全引导服务完成后，回复ProbeInterest，同时也消除了ProbeInterest在网络内的痕迹。
或者如果以上引导过程出现问题，当ProbeInterest过期后，也会自动消除。

小结：
这个设计充分利用了NDN 转发组件PIT的信息，同时，新接入的不确定实体，在未完成安全引导前，不会对已有网络的路由信息进行损坏（一个实体仅临时占用一条PIT）。
假如一个新生产者主机上已有完成安全引导的程序`/NewPA`，那么后续新应用，可以用`/NewPA`作为Hint来实质用FIB转发，不再涉及对PIT的操作。整体而言，对已有网络的影响和损坏很小。



## 参考文献